<html>
    <head>
    <title>
         123</title>
        <style>
  
        #box1
        {
            background-color: yellowgreen;
            width: 30px;
            height: 30px;
            position: absolute;
            margin-left: 665px;
            
        }      
        </style>
    </head>
    <center><big> score is <p id="result" style="color: orange"> </p></big></center>
<body bgcolor="blue">
          <p>
    <button onclick="f1()" >1</button> 
        <button onclick="f2()">2</button>
        <button onclick="f3()">3</button>
    </p>
    <div id="box1"></div>
    <script>
        /* z,l for level
           b[] for value storage
           x for present box no
           ka,sh[] for margining purpose
           boxes for total no of boxes
           score is for score
           reverse is for reverse
           */
        var olo=0;
        var l=0;
        var z=1;
        var b=[];
        b[0]=1;
        var x=0;
        var ka=1;
        var sh=[0];
        var boxes=0;
        var fu=[];
            var  score=0;
        var reverse=0;
        var ck=0;
         function f1()
        {   if(reverse==0)
            {
            var po=Math.pow(2,l);
              if(z==po)
                       {
                            z=0;
                            l=l+1;
                           
                       }
                 else
                    {
                         z=z+2;
                    }
            if(b[x]!=1)
                
                { 
                 fu[ck++]=x;
                    clone();
                    b[boxes+1]=b[x]%3+1;
                    b[boxes+2]=(b[x]+1)%3+1;
                    boxes=boxes+2;
                x=x+1;
                }
            else
                {
                        hide();
                        x=x+1;
                }
            }
         else
             {
             if(b[x]!=1)
             {
               
             }
                 else
         hde();
        }
        }
        function f2()
        {  if(reverse==0)
            {
             var po=Math.pow(2,l);
              if(z==po)
                       {
                            z=0;
                            l=l+1;
                               
                       }
                 else
                    {
                         z=z+2;
                    }
            if(b[x]!=2)
                
                { 
                  
                    clone();
                  fu[ck++]=x;
                    boxes=boxes+1;
                    b[boxes]=b[x]%3+1;
                    boxes=boxes+1;
                    b[boxes]=(b[x]+1)%3+1;
                    x=x+1;
                    
                
                }
            else
                {
                        hide();
                        x=x+1;
                }
            }
         else 
         {  if(b[x]!=2)
             { 
             }
          else
             hde();
          alert(b[x]);
            }
        }
        function f3()
        { if(reverse==0)
            {
            var po=Math.pow(2,l);
              if(z==po)
                       {
                            z=0;
                            l=l+1;
                            
                       }
                 else
                    {
                         z=z+2;
                    }
            if(b[x]!=3)
                
                { 
                  
                    clone();
                    fu[ck++]=x;
                  b[boxes+1]=b[x]%3+1;
                    b[boxes+2]=(b[x]+1)%3+1;
                    boxes=boxes+2;
                    x=x+1;
                
                }
            else
                {
                        hide();
                        x=x+1;
                }
        }
         else 
         {
         if(b[x]!=3)
             {
           
             }
             hde();
        }
        }
 
        function hide()
            {  
                var a=document.getElementsByTagName("DIV")[x];
               if(a.style.display=="none")
            {
                a.style.display="block";
                
            }
                else
                    {
                        a.style.display="none";
                    }
             if(x==boxes)
                 {
                   
                     x=x-1;
                     boxes=boxes-1;
                     reverse=1;
                 }
                
            }
            function clone()
            {   
                var divi=Math.pow(2,l);
                var a=document.getElementsByTagName("DIV")[x]; 
                var io=parseInt(a.style.marginLeft);
                var op=parseInt(a.style.marginTop);
                if(x==0)
                    {
                        io=665;
                        op=0;
                    }
                var b1=a.cloneNode("true");
                var d1=a.cloneNode("true");
                 b1.style.marginTop=op+60+'px';
                b1.style.marginLeft=io-(625/divi)+'px';
              d1.style.marginLeft=io+(625/divi)+'px';
                d1.style.marginTop=op+60+'px';
                document.body.appendChild(b1);
            document.body.appendChild(d1);
                if(l==1)
                    {
                        l=l+1;
                    }
            }
        function hde()
        {     
                score=score+100-(l)*10;
                document.getElementById("result").innerHTML=score;
                var a=document.getElementsByTagName("DIV")[fu[ck]];
            ck=ck-1;
            x=fu[ck];
               if(a.style.display=="none")
            {
                a.style.display="block";
                
            }
                else
                    {
                        a.style.display="none";
                    }
        }
     
    </script>

</body>
</html>